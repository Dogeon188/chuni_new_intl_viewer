(function(){"use strict";function Ft(t){const e=document.cookie.split(";").map(n=>decodeURIComponent(n.trim())).map(n=>n.split("=")).find(n=>n[0]===t);return e?e[1]:""}function Bt(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function Dt(t){return Number([...t].filter(e=>e!==",").join(""))}function p(){}function be(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Ot(t){return t()}function Vt(){return Object.create(null)}function q(t){t.forEach(Ot)}function we(t){return typeof t=="function"}function X(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function _e(t){return Object.keys(t).length===0}function ye(t,...e){if(t==null)return p;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Z(t,e,n){t.$$.on_destroy.push(ye(e,n))}function xe(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function et(t,e,n){const r=$e(t);if(!r.getElementById(e)){const i=g("style");i.id=e,i.textContent=n,ke(r,i)}}function $e(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ke(t,e){h(t.head||t,e)}function y(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function Ht(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function b(){return k(" ")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Se(t){return Array.from(t.childNodes)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function It(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function Ce(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function j(t,e,n){t.classList[n?"add":"remove"](e)}let st;function B(t){st=t}function Re(){if(!st)throw new Error("Function called outside component initialization");return st}const ct=[],Ut=[],dt=[],Wt=[],Te=Promise.resolve();let kt=!1;function Ee(){kt||(kt=!0,Te.then(Ct))}function ht(t){dt.push(t)}const St=new Set;let gt=0;function Ct(){const t=st;do{for(;gt<ct.length;){const e=ct[gt];gt++,B(e),Pe(e.$$)}for(B(null),ct.length=0,gt=0;Ut.length;)Ut.pop()();for(let e=0;e<dt.length;e+=1){const n=dt[e];St.has(n)||(St.add(n),n())}dt.length=0}while(ct.length);for(;Wt.length;)Wt.pop()();kt=!1,St.clear(),B(t)}function Pe(t){if(t.fragment!==null){t.update(),q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ht)}}const pt=new Set;let Q;function ze(){Q={r:0,c:[],p:Q}}function Le(){Q.r||q(Q.c),Q=Q.p}function T(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function z(t,e,n,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),Q.c.push(()=>{pt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Rt(t,e){const n=e.token={};function r(i,o,l,s){if(e.token!==n)return;e.resolved=s;let u=e.ctx;l!==void 0&&(u=u.slice(),u[l]=s);const c=i&&(e.current=i)(u);let a=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==o&&f&&(ze(),z(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),Le())}):e.block.d(1),c.c(),T(c,1),c.m(e.mount(),e.anchor),a=!0),e.block=c,e.blocks&&(e.blocks[o]=c),a&&Ct()}if(be(t)){const i=Re();if(t.then(o=>{B(i),r(e.then,1,e.value,o),B(null)},o=>{if(B(i),r(e.catch,2,e.error,o),B(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Tt(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function U(t){t&&t.c()}function D(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:l,after_update:s}=t.$$;i&&i.m(e,n),r||ht(()=>{const u=o.map(Ot).filter(we);l?l.push(...u):q(u),t.$$.on_mount=[]}),s.forEach(ht)}function O(t,e){const n=t.$$;n.fragment!==null&&(q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(t,e){t.$$.dirty[0]===-1&&(ct.push(t),Ee(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(t,e,n,r,i,o,l,s=[-1]){const u=st;B(t);const c=t.$$={fragment:null,ctx:null,props:o,update:p,not_equal:i,bound:Vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Vt(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};l&&l(c.root);let a=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...m)=>{const w=m.length?m[0]:d;return c.ctx&&i(c.ctx[f],c.ctx[f]=w)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](w),a&&Ae(t,f)),d}):[],c.update(),a=!0,q(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const f=Se(e.target);c.fragment&&c.fragment.l(f),f.forEach(_)}else c.fragment&&c.fragment.c();e.intro&&T(t.$$.fragment),D(t,e.target,e.anchor,e.customElement),Ct()}B(u)}class rt{$destroy(){O(this,1),this.$destroy=p}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!_e(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Gt(t,e){e*=100;const n=[[101e4,e+215],[1009e3,e+215],[1007500,e+200],[1005e3,e+150],[1e6,e+100],[975e3,e],[925e3,e-300],[9e5,e-500],[8e5,(e-500)/2],[5e5,0],[0,0]];let r=1;n.some((s,u)=>(r=u,t>s[0]));const i=n[r-1],o=n[r],l=o[1]+(i[1]-o[1])/(i[0]-o[0])*(t-o[0]);return Math.floor(l+Number.EPSILON)/100}function Et(t){return t.slice(0,30).reduce((e,n)=>e+n)/30}function Jt(t){return(Et(t)*30+t[0]*10)/40}const it=[];function Pt(t,e=p){let n;const r=new Set;function i(s){if(X(t,s)&&(t=s,n)){const u=!it.length;for(const c of r)c[1](),it.push(c,t);if(u){for(let c=0;c<it.length;c+=2)it[c][0](it[c+1]);it.length=0}}}function o(s){i(s(t))}function l(s,u=p){const c=[s,u];return r.add(c),r.size===1&&(n=e(i)||p),s(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}function qt(t=!1,e=n=>{}){const{subscribe:n,set:r,update:i}=Pt(t);return{subscribe:n,set:r,toggle:()=>i(o=>(e(!o),!o))}}const mt=Pt(""),vt=qt(Bt(),t=>{t&&ot.set("Rating")}),ot=(()=>{const{subscribe:t,set:e,update:n}=Pt("Rating");return{subscribe:t,set(r){e(r),r!="Rating"&&vt.set(!1)},update:n}})(),bt=qt(),V={basic:"BAS",advanced:"ADV",expert:"EXP",master:"MAS",ultima:"ULT"};async function je(t=V.master){const e=new FormData;e.append("genre","99"),e.append("token",Ft("_t"));const n={[V.ultima]:"sendUltima",[V.master]:"sendMaster",[V.expert]:"sendExpert",[V.advanced]:"sendAdvanced",[V.basic]:"sendBasic"},r=await fetch(`https://chunithm-net-eng.com/mobile/record/musicGenre/${n[t]}`,{headers:{"Cache-Control":"no-cache"},method:"POST",body:e}),i=[...$(await r.text()).find("form")];return i.shift(),i}async function Me(){const t=[];for(const e of Object.values(V))mt.set(`Fetching ${e} record...`),t.push(await je(e));return t.flatMap((e,n)=>e.map(r=>{var l,s;const i=$(r),o=i.find(".play_musicdata_icon");return{title:(l=i.find(".music_title"))==null?void 0:l.text(),score:Dt((s=i.find(".text_b"))==null?void 0:s.text()),difficulty:Object.values(V)[n],clear:o.find('img[src*="alljustice"]').length?"AJ":o.find('img[src*="fullcombo"]').length?"FC":""}}).filter(r=>r.title!==null&&r.score>0))}async function Fe(){mt.set("Fetching song data...");const t=await(await fetch("https://raw.githubusercontent.com/Dogeon188/chuni_new_intl_viewer/main/songData.json")).json(),e=await Me();return mt.set("Calculating data..."),e.map(n=>{const r=t[n.title];if(r===void 0){alert(`[chuni-intl-viewer] Found unknown song "${n.title} ${n.difficulty}".
The data should be updating soon, please run chuni-viewer again later to get proper song data.`),fetch(new Request("https://chuniupdate.dogeon188.repl.co/sendUpdate",{method:"POST"})),n.const=0,n.rating=0;return}n.const=r[n.difficulty],n.rating=Gt(n.score,n.const)}),e.sort((n,r)=>r.rating-n.rating||r.const-n.const||n.score-r.score),e.map((n,r)=>{n.rank=r+1}),e}async function Be(){var i;const t=await fetch("https://chunithm-net-eng.com/mobile/home/"),e=$(await t.text()),n=[...e.find(".player_rating_num_block img")].map(o=>{var u,c;const l=(u=o.getAttribute("src"))!=null?u:"";return/rating_.*_comma.png/.test(l)?".":((c=/rating_.*_[0-9]*(?=\.png)/g.exec(l))!=null?c:["**.**"])[0].slice(-1)}).join(""),r=e.find(".player_honor_short").css("background-image");return{name:e.find(".player_name_in")[0].innerHTML,honor:{text:e.find(".player_honor_text_view span")[0].innerHTML,type:((i=/honor_bg_.*(?=\.png)/g.exec(r))!=null?i:["normal"])[0].slice(9)},rating:n}}async function De(){const t=await fetch("https://chunithm-net-eng.com/mobile/home/playerData/ratingDetailRecent/"),e=await(await fetch("https://raw.githubusercontent.com/Dogeon188/chuni_new_intl_viewer/main/songData.json")).json();return[...$(await t.text()).find("form")].map(r=>{var l,s,u;const i=$(r),o={score:Dt((l=i.find(".text_b"))==null?void 0:l.text()),title:(s=i.find(".music_title"))==null?void 0:s.text(),diff:Object.values(V)[+((u=i.find("input[name=diff]"))==null?void 0:u.attr("value"))]};return Gt(o.score,e[o.title][o.diff])}).reduce((r,i)=>r+i)/10}function Oe(t){et(t,"svelte-wrzpb1","table.svelte-wrzpb1.svelte-wrzpb1{border-spacing:0;width:100%;padding-bottom:0.5rem;max-width:max-content;margin:auto}td.svelte-wrzpb1.svelte-wrzpb1,th.svelte-wrzpb1.svelte-wrzpb1{padding:0.5rem}td.svelte-wrzpb1.svelte-wrzpb1{border-top:#436 1.5px solid}th.svelte-wrzpb1.svelte-wrzpb1{color:#aac}th.current-sort.svelte-wrzpb1.svelte-wrzpb1{color:#eec}tbody.svelte-wrzpb1 tr.best30 td.svelte-wrzpb1:first-child{color:#fc4}tbody.svelte-wrzpb1 tr.best40 td.svelte-wrzpb1:first-child{font-weight:bold}tbody.svelte-wrzpb1 tr:not(.best40) td.svelte-wrzpb1:first-child{color:#ccc}tbody.svelte-wrzpb1 tr td.svelte-wrzpb1:nth-child(2){font-weight:bold;text-align:left;max-width:300px}tbody.svelte-wrzpb1 tr td:nth-child(2)[data-diff=ULT].svelte-wrzpb1{color:#3cf}tbody.svelte-wrzpb1 tr td:nth-child(2)[data-diff=MAS].svelte-wrzpb1{color:#e9f}tbody.svelte-wrzpb1 tr td:nth-child(2)[data-diff=EXP].svelte-wrzpb1{color:#e46}tbody.svelte-wrzpb1 tr td:nth-child(2)[data-diff=ADV].svelte-wrzpb1{color:#e73}tbody.svelte-wrzpb1 tr td:nth-child(2)[data-diff=BAS].svelte-wrzpb1{color:#1c3}tbody.svelte-wrzpb1 tr td.svelte-wrzpb1:nth-child(6){font-weight:bold}tbody.svelte-wrzpb1 tr td:nth-child(6)[data-clear=FC].svelte-wrzpb1{color:#5e7}tbody.svelte-wrzpb1 tr td:nth-child(6)[data-clear=AJ].svelte-wrzpb1{color:#fc1}")}function Xt(t,e,n){const r=t.slice();return r[7]=e[n],r}function Zt(t,e,n){const r=t.slice();return r[10]=e[n],r}function Kt(t){let e,n,r,i;function o(){return t[5](t[10])}return{c(){e=g("th"),n=k(t[10]),v(e,"class","svelte-wrzpb1"),j(e,"current-sort",t[10]==t[0])},m(l,s){y(l,e,s),h(e,n),r||(i=K(e,"click",o),r=!0)},p(l,s){t=l,s&1&&j(e,"current-sort",t[10]==t[0])},d(l){l&&_(e),r=!1,i()}}}function Qt(t){var F,J,de,he;let e,n,r=t[7].rank+"",i,o,l,s=t[7].title+"",u,c,a,f,d=((J=(F=t[7].const)==null?void 0:F.toFixed(1))!=null?J:"??.?")+"",m,w,x,S=t[7].score+"",M,H,Y,L=((he=(de=t[7].rating)==null?void 0:de.toFixed(2))!=null?he:"??.??")+"",N,ut,E,I=t[7].clear+"",tt,G,ft;return{c(){e=g("tr"),n=g("td"),i=k(r),o=b(),l=g("td"),u=k(s),a=b(),f=g("td"),m=k(d),w=b(),x=g("td"),M=k(S),H=b(),Y=g("td"),N=k(L),ut=b(),E=g("td"),tt=k(I),ft=b(),v(n,"class","svelte-wrzpb1"),v(l,"data-diff",c=t[7].difficulty),v(l,"class","svelte-wrzpb1"),v(f,"class","svelte-wrzpb1"),v(x,"class","svelte-wrzpb1"),v(Y,"class","svelte-wrzpb1"),v(E,"data-clear",G=t[7].clear),v(E,"class","svelte-wrzpb1"),j(e,"best30",t[7].rank<=30),j(e,"best40",t[7].rank<=40)},m(C,P){y(C,e,P),h(e,n),h(n,i),h(e,o),h(e,l),h(l,u),h(e,a),h(e,f),h(f,m),h(e,w),h(e,x),h(x,M),h(e,H),h(e,Y),h(Y,N),h(e,ut),h(e,E),h(E,tt),h(e,ft)},p(C,P){var ge,pe,me,ve;P&2&&r!==(r=C[7].rank+"")&&A(i,r),P&2&&s!==(s=C[7].title+"")&&A(u,s),P&2&&c!==(c=C[7].difficulty)&&v(l,"data-diff",c),P&2&&d!==(d=((pe=(ge=C[7].const)==null?void 0:ge.toFixed(1))!=null?pe:"??.?")+"")&&A(m,d),P&2&&S!==(S=C[7].score+"")&&A(M,S),P&2&&L!==(L=((ve=(me=C[7].rating)==null?void 0:me.toFixed(2))!=null?ve:"??.??")+"")&&A(N,L),P&2&&I!==(I=C[7].clear+"")&&A(tt,I),P&2&&G!==(G=C[7].clear)&&v(E,"data-clear",G),P&2&&j(e,"best30",C[7].rank<=30),P&2&&j(e,"best40",C[7].rank<=40)},d(C){C&&_(e)}}}function Ve(t){let e,n,r,i,o,l=["#","Title","Const","Score","Rating","AJ"],s=[];for(let a=0;a<6;a+=1)s[a]=Kt(Zt(t,l,a));let u=t[1],c=[];for(let a=0;a<u.length;a+=1)c[a]=Qt(Xt(t,u,a));return{c(){e=g("table"),n=g("thead"),r=g("tr");for(let a=0;a<6;a+=1)s[a].c();i=b(),o=g("tbody");for(let a=0;a<c.length;a+=1)c[a].c();v(o,"class","svelte-wrzpb1"),v(e,"class","svelte-wrzpb1")},m(a,f){y(a,e,f),h(e,n),h(n,r);for(let d=0;d<6;d+=1)s[d].m(r,null);h(e,i),h(e,o);for(let d=0;d<c.length;d+=1)c[d].m(o,null)},p(a,[f]){if(f&1){l=["#","Title","Const","Score","Rating","AJ"];let d;for(d=0;d<6;d+=1){const m=Zt(a,l,d);s[d]?s[d].p(m,f):(s[d]=Kt(m),s[d].c(),s[d].m(r,null))}for(;d<6;d+=1)s[d].d(1)}if(f&2){u=a[1];let d;for(d=0;d<u.length;d+=1){const m=Xt(a,u,d);c[d]?c[d].p(m,f):(c[d]=Qt(m),c[d].c(),c[d].m(o,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=u.length}},i:p,o:p,d(a){a&&_(e),Ht(s,a),Ht(c,a)}}}function He(t,e,n){let r,i,o,l;Z(t,vt,a=>n(4,o=a)),Z(t,ot,a=>n(0,l=a));let{recordList:s}=e;const u={Rating:(a,f)=>a.rank-f.rank,Score:(a,f)=>f.score-a.score,Const:(a,f)=>f.const-a.const,Title:(a,f)=>{if(a.title<f.title)return-1;if(a.title>f.title)return 1;const d=["ULT","MAS","EXP","ADV","BAS"];return d.indexOf(f.difficulty)-d.indexOf(a.difficulty)},AJ:(a,f)=>{if(a.clear==f.clear)return a.rank-f.rank;const d=["","FC","AJ"];return d.indexOf(f.clear)-d.indexOf(a.clear)}},c=a=>xe(ot,l=a=="#"?"Rating":a,l);return t.$$set=a=>{"recordList"in a&&n(2,s=a.recordList)},t.$$.update=()=>{t.$$.dirty&5&&n(3,r=s.sort(u[l])),t.$$.dirty&24&&n(1,i=o?r.slice(0,40):r)},[l,i,s,r,o,c]}class Ie extends rt{constructor(e){super(),nt(this,e,He,Ve,X,{recordList:2},Oe)}}var Yt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(t,e||[])).next())})};const Nt="application/font-woff",te="image/jpeg",Ue={woff:Nt,woff2:Nt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:te,jpeg:te,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function We(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function wt(t){const e=We(t).toLowerCase();return Ue[e]||""}function Ge(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}function zt(t){return t.search(/^(data:)/)!==-1}function _t(t,e){return`data:${e};base64,${t}`}function Je(t){return t.split(/,/)[1]}const qe=function(){let e=0;const n=()=>`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${n()}${e}`)}();function W(t){const e=[];for(let n=0,r=t.length;n<r;n+=1)e.push(t[n]);return e}function yt(t,e){const n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}function Xe(t){const e=yt(t,"border-left-width"),n=yt(t,"border-right-width");return t.clientWidth+e+n}function Ze(t){const e=yt(t,"border-top-width"),n=yt(t,"border-bottom-width");return t.clientHeight+e+n}function Ke(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}function Qe(t){return t.toBlob?new Promise(e=>t.toBlob(e)):new Promise(e=>{const n=window.atob(t.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r);for(let o=0;o<r;o+=1)i[o]=n.charCodeAt(o);e(new Blob([i],{type:"image/png"}))})}function Lt(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=t})}function Ye(t){return Yt(this,void 0,void 0,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})}function Ne(t,e,n){return Yt(this,void 0,void 0,function*(){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),Ye(i)})}const At={};function tn(t){let e=t.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(e)&&(e=e.replace(/.*\//,"")),e}function jt(t,e){const n=tn(t);if(At[n]!=null)return At[n];e.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());const r=o=>{let l="";if(e.imagePlaceholder){const u=e.imagePlaceholder.split(/,/);u&&u[1]&&(l=u[1])}let s=`Failed to fetch resource: ${t}`;return o&&(s=typeof o=="string"?o:o.message),s&&console.error(s),{blob:l,contentType:""}},i=window.fetch(t).then(o=>o.blob().then(l=>({blob:l,contentType:o.headers.get("Content-Type")||""}))).then(({blob:o,contentType:l})=>new Promise((s,u)=>{const c=new FileReader;c.onloadend=()=>s({contentType:l,blob:c.result}),c.onerror=u,c.readAsDataURL(o)})).then(({blob:o,contentType:l})=>({contentType:l,blob:Je(o)})).catch(r);return At[n]=i,i}function en(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function nn(t){return W(t).map(e=>{const n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return`${e}: ${n}${r?" !important":""};`}).join(" ")}function rn(t,e,n){const r=`.${t}:${e}`,i=n.cssText?en(n):nn(n);return document.createTextNode(`${r}{${i}}`)}function ee(t,e,n){const r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=qe();try{e.className=`${e.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(rn(o,n,r)),e.appendChild(l)}function on(t,e){ee(t,e,":before"),ee(t,e,":after")}var lt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(t,e||[])).next())})};function ln(t){return lt(this,void 0,void 0,function*(){const e=t.toDataURL();return e==="data:,"?Promise.resolve(t.cloneNode(!1)):Lt(e)})}function sn(t,e){return lt(this,void 0,void 0,function*(){return Promise.resolve(t.poster).then(n=>jt(n,e)).then(n=>_t(n.blob,wt(t.poster)||n.contentType)).then(n=>Lt(n))})}function cn(t,e){return lt(this,void 0,void 0,function*(){return t instanceof HTMLCanvasElement?ln(t):t instanceof HTMLVideoElement&&t.poster?sn(t,e):Promise.resolve(t.cloneNode(!1))})}const an=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";function un(t,e,n){var r;return lt(this,void 0,void 0,function*(){const i=an(t)&&t.assignedNodes?W(t.assignedNodes()):W(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes);return i.length===0||t instanceof HTMLVideoElement?Promise.resolve(e):i.reduce((o,l)=>o.then(()=>ne(l,n)).then(s=>{s&&e.appendChild(s)}),Promise.resolve()).then(()=>e)})}function fn(t,e){const n=window.getComputedStyle(t),r=e.style;!r||(n.cssText?r.cssText=n.cssText:W(n).forEach(i=>{r.setProperty(i,n.getPropertyValue(i),n.getPropertyPriority(i))}))}function dn(t,e){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function hn(t,e){return lt(this,void 0,void 0,function*(){return e instanceof Element?Promise.resolve().then(()=>fn(t,e)).then(()=>on(t,e)).then(()=>dn(t,e)).then(()=>e):Promise.resolve(e)})}function ne(t,e,n){return lt(this,void 0,void 0,function*(){return!n&&e.filter&&!e.filter(t)?Promise.resolve(null):Promise.resolve(t).then(r=>cn(r,e)).then(r=>un(t,r,e)).then(r=>hn(t,r))})}var gn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(t,e||[])).next())})};const re=/url\((['"]?)([^'"]+?)\1\)/g,pn=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,mn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function vn(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function bn(t){const e=[];return t.replace(re,(n,r,i)=>(e.push(i),n)),e.filter(n=>!zt(n))}function wn(t,e,n,r,i){const o=n?Ge(e,n):e;return Promise.resolve(o).then(l=>i?i(l):jt(l,r)).then(l=>typeof l=="string"?_t(l,wt(e)):_t(l.blob,wt(e)||l.contentType)).then(l=>t.replace(vn(e),`$1${l}$3`)).then(l=>l,()=>o)}function _n(t,{preferredFontFormat:e}){return e?t.replace(mn,n=>{for(;;){const[r,,i]=pn.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function ie(t){return t.search(re)!==-1}function oe(t,e,n){return gn(this,void 0,void 0,function*(){if(!ie(t))return Promise.resolve(t);const r=_n(t,n);return Promise.resolve(r).then(bn).then(i=>i.reduce((o,l)=>o.then(s=>wn(s,l,e,n)),Promise.resolve(r)))})}var xt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(t,e||[])).next())})};function yn(t,e){var n;return xt(this,void 0,void 0,function*(){const r=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue("background");return r?Promise.resolve(r).then(i=>oe(i,null,e)).then(i=>(t.style.setProperty("background",i,t.style.getPropertyPriority("background")),t)):Promise.resolve(t)})}function xn(t,e){return xt(this,void 0,void 0,function*(){if(!(t instanceof HTMLImageElement&&!zt(t.src))&&!(t instanceof SVGImageElement&&!zt(t.href.baseVal)))return Promise.resolve(t);const n=t instanceof HTMLImageElement?t.src:t.href.baseVal;return Promise.resolve(n).then(r=>jt(r,e)).then(r=>_t(r.blob,wt(n)||r.contentType)).then(r=>new Promise((i,o)=>{t.onload=i,t.onerror=o,t instanceof HTMLImageElement?(t.srcset="",t.src=r):t.href.baseVal=r})).then(()=>t,()=>t)})}function $n(t,e){return xt(this,void 0,void 0,function*(){const r=W(t.childNodes).map(i=>le(i,e));return Promise.all(r).then(()=>t)})}function le(t,e){return xt(this,void 0,void 0,function*(){return t instanceof Element?Promise.resolve(t).then(n=>yn(n,e)).then(n=>xn(n,e)).then(n=>$n(n,e)):Promise.resolve(t)})}function kn(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}var at=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(t,e||[])).next())})};const se={};function ce(t){const e=se[t];if(e!=null)return e;const n=window.fetch(t).then(r=>({url:t,cssText:r.text()}));return se[t]=n,n}function ae(t){return at(this,void 0,void 0,function*(){return t.cssText.then(e=>{let n=e;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(l=>{let s=l.replace(r,"$1");return s.startsWith("https://")||(s=new URL(s,t.url).href),window.fetch(s).then(u=>u.blob()).then(u=>new Promise((c,a)=>{const f=new FileReader;f.onloadend=()=>{n=n.replace(l,`url(${f.result})`),c([l,f.result])},f.onerror=a,f.readAsDataURL(u)}))});return Promise.all(o).then(()=>n)})})}function ue(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=i.exec(r);if(u===null)break;e.push(u[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(l,"gi");for(;;){let u=o.exec(r);if(u===null){if(u=s.exec(r),u===null)break;o.lastIndex=s.lastIndex}else s.lastIndex=o.lastIndex;e.push(u[0])}return e}function Sn(t){return at(this,void 0,void 0,function*(){const e=[],n=[];return t.forEach(r=>{if("cssRules"in r)try{W(r.cssRules).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let l=o+1;const s=i.href,u=ce(s).then(c=>c?ae(c):"").then(c=>ue(c).forEach(a=>{try{r.insertRule(a,a.startsWith("@import")?l+=1:r.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:a,error:f})}})).catch(c=>{console.error("Error loading remote css",c.toString())});n.push(u)}})}catch(i){const o=t.find(l=>l.href==null)||document.styleSheets[0];r.href!=null&&n.push(ce(r.href).then(l=>l?ae(l):"").then(l=>ue(l).forEach(s=>{o.insertRule(s,r.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l.toString())})),console.error("Error inlining remote css file",i.toString())}}),Promise.all(n).then(()=>(t.forEach(r=>{if("cssRules"in r)try{W(r.cssRules).forEach(i=>{e.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${r.href}`,i.toString())}}),e))})}function Cn(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>ie(e.style.getPropertyValue("src")))}function Rn(t){return at(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.ownerDocument==null&&n(new Error("Provided element is not within a Document")),e(W(t.ownerDocument.styleSheets))}).then(e=>Sn(e)).then(Cn)})}function Tn(t,e){return at(this,void 0,void 0,function*(){return Rn(t).then(n=>Promise.all(n.map(r=>{const i=r.parentStyleSheet?r.parentStyleSheet.href:null;return oe(r.cssText,i,e)}))).then(n=>n.join(`
`))})}function En(t,e){return at(this,void 0,void 0,function*(){return(e.fontEmbedCSS!=null?Promise.resolve(e.fontEmbedCSS):Tn(t,e)).then(n=>{const r=document.createElement("style"),i=document.createTextNode(n);return r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),t})})}var Mt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(t,e||[])).next())})};function fe(t,e={}){const n=e.width||Xe(t),r=e.height||Ze(t);return{width:n,height:r}}function Pn(t,e={}){return Mt(this,void 0,void 0,function*(){const{width:n,height:r}=fe(t,e);return Promise.resolve(t).then(i=>ne(i,e,!0)).then(i=>En(i,e)).then(i=>le(i,e)).then(i=>kn(i,e)).then(i=>Ne(i,n,r))})}const R=16384;function zn(t){(t.width>R||t.height>R)&&(t.width>R&&t.height>R?t.width>t.height?(t.height*=R/t.width,t.width=R):(t.width*=R/t.height,t.height=R):t.width>R?(t.height*=R/t.width,t.width=R):(t.width*=R/t.height,t.height=R))}function Ln(t,e={}){return Mt(this,void 0,void 0,function*(){return Pn(t,e).then(Lt).then(n=>{const r=document.createElement("canvas"),i=r.getContext("2d"),o=e.pixelRatio||Ke(),{width:l,height:s}=fe(t,e),u=e.canvasWidth||l,c=e.canvasHeight||s;return r.width=u*o,r.height=c*o,e.skipAutoScale||zn(r),r.style.width=`${u}`,r.style.height=`${c}`,e.backgroundColor&&(i.fillStyle=e.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(n,0,0,r.width,r.height),r})})}function An(t,e={}){return Mt(this,void 0,void 0,function*(){return Ln(t,e).then(Qe)})}async function jn(t="b40"){var r,i;const e=(r=document.body.shadowRoot)==null?void 0:r.querySelector("main");let n=e==null?void 0:e.cloneNode(!0);(i=e==null?void 0:e.parentElement)==null||i.appendChild(n),n.style.margin="initial",n.querySelectorAll("tr").forEach((o,l)=>{l>(t=="b30"?30:40)&&o.remove()}),An(n,{backgroundColor:"#113"}).then(async o=>{if(n.remove(),o==null)return alert("[chuni-intl-viewer] Something went wrong when converting your scores to PNG. Please ask the author to fix it.");if(Bt()){const l=new File([o],`result_${t}.png`,{type:o.type});navigator!=null&&navigator.canShare({files:[l]})&&navigator.share({files:[l]}).catch(console.log)}else $("<a>").attr({download:`result_${t}.png`,href:window.URL.createObjectURL(o)})[0].click()})}function Mn(t){et(t,"svelte-zleki2",".btn-container.svelte-zleki2{position:fixed;bottom:1rem;right:1rem;display:flex;flex-direction:column;gap:0.75rem}.btn.svelte-zleki2{width:2.5rem;height:2.5rem;background:#536;border-radius:50%;box-shadow:0.2rem 0.2rem 5px #000;display:inline-flex;justify-content:center;align-items:center;opacity:0.6;cursor:pointer;transition-duration:0.2s}.btn.svelte-zleki2:hover{opacity:0.9}.btn.disabled.svelte-zleki2{opacity:0.2;cursor:unset}")}function Fn(t){let e,n,r,i,o,l;return{c(){e=g("div"),n=g("div"),n.innerHTML='<svg width="18" height="18"><path d="M7 2H11V8H15L9 14 3 8H7V2ZM3 14H15V16H3V14Z" fill="#fef"></path></svg>',r=b(),i=g("div"),i.innerHTML='<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M2 4H16V6H2V4ZM2 8H16V10H2V8ZM2 12H16V14H2V12Z" fill="#fef"></path></svg>',v(n,"class","btn svelte-zleki2"),j(n,"disabled",t[0]!="Rating"),v(i,"class","btn svelte-zleki2"),v(e,"class","btn-container svelte-zleki2")},m(s,u){y(s,e,u),h(e,n),h(e,r),h(e,i),o||(l=[K(n,"click",t[1]),K(i,"click",bt.toggle)],o=!0)},p(s,[u]){u&1&&j(n,"disabled",s[0]!="Rating")},i:p,o:p,d(s){s&&_(e),o=!1,q(l)}}}function Bn(t,e,n){let r;return Z(t,ot,o=>n(0,r=o)),[r,()=>{r=="Rating"&&jn()}]}class Dn extends rt{constructor(e){super(),nt(this,e,Bn,Fn,X,{},Mn)}}function On(t){et(t,"svelte-pwtl3v",".modal-wrapper.svelte-pwtl3v{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center}.modal-wrapper.hidden.svelte-pwtl3v{display:none}.modal-bg.svelte-pwtl3v{position:fixed;background:rgba(0, 0, 0, 0.2666666667);top:0;left:0;width:100vw;height:100vh}.modal.svelte-pwtl3v{background:#123;width:70%;margin:auto;padding:2rem;position:relative;box-shadow:2rem 2rem 10px rgba(0, 0, 0, 0.4);border-radius:1rem;text-align:left}h3.svelte-pwtl3v{margin:0}.config-content.svelte-pwtl3v{padding:5px}label.svelte-pwtl3v{display:flex;padding:0.5rem;flex-direction:column;gap:0.5rem}select.svelte-pwtl3v,button.filter-b40.svelte-pwtl3v{width:100%;padding:0.75rem;background:#123;border:#345 2px solid;border-radius:0.5rem;color:inherit;cursor:pointer;text-align:left;appearance:none}.close-btn.svelte-pwtl3v{position:absolute;top:0.5rem;right:0.5rem;width:2rem;height:2rem;background:#566;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;opacity:0.6;transition-duration:0.2s;cursor:pointer}.close-btn.svelte-pwtl3v:hover{opacity:0.9}")}function Vn(t){let e,n,r,i,o,l,s,u,c,a,f,d,m,w,x,S,M,H,Y,L,N,ut,E,I=t[2]?"Show Only B40":"Show All",tt,G,ft;return{c(){e=g("div"),n=g("div"),r=b(),i=g("div"),o=g("div"),o.textContent="\u2715",l=b(),s=g("h3"),s.textContent="Options",u=b(),c=g("div"),a=g("label"),f=g("span"),f.textContent="Sort By",d=b(),m=g("select"),w=g("option"),w.textContent="Rating",x=g("option"),x.textContent="Score",S=g("option"),S.textContent="Chart Constant",M=g("option"),M.textContent="Title",H=g("option"),H.textContent="AJ\uFF0FFC",Y=b(),L=g("label"),N=g("span"),N.textContent="Show Only B40",ut=b(),E=g("button"),tt=k(I),v(n,"class","modal-bg svelte-pwtl3v"),v(o,"class","close-btn svelte-pwtl3v"),v(s,"class","svelte-pwtl3v"),w.__value="Rating",w.value=w.__value,w.selected=!0,x.__value="Score",x.value=x.__value,S.__value="Const",S.value=S.__value,M.__value="Title",M.value=M.__value,H.__value="AJ",H.value=H.__value,v(m,"class","svelte-pwtl3v"),t[1]===void 0&&ht(()=>t[3].call(m)),v(a,"class","svelte-pwtl3v"),v(E,"class","filter-b40 svelte-pwtl3v"),v(L,"class","svelte-pwtl3v"),v(c,"class","config-content svelte-pwtl3v"),v(i,"class","modal svelte-pwtl3v"),v(e,"class","modal-wrapper svelte-pwtl3v"),j(e,"hidden",!t[0])},m(F,J){y(F,e,J),h(e,n),h(e,r),h(e,i),h(i,o),h(i,l),h(i,s),h(i,u),h(i,c),h(c,a),h(a,f),h(a,d),h(a,m),h(m,w),h(m,x),h(m,S),h(m,M),h(m,H),It(m,t[1]),h(c,Y),h(c,L),h(L,N),h(L,ut),h(L,E),h(E,tt),G||(ft=[K(n,"click",bt.toggle),K(o,"click",bt.toggle),K(m,"change",t[3]),K(E,"click",vt.toggle)],G=!0)},p(F,[J]){J&2&&It(m,F[1]),J&4&&I!==(I=F[2]?"Show Only B40":"Show All")&&A(tt,I),J&1&&j(e,"hidden",!F[0])},i:p,o:p,d(F){F&&_(e),G=!1,q(ft)}}}function Hn(t,e,n){let r,i,o;Z(t,bt,s=>n(0,r=s)),Z(t,ot,s=>n(1,i=s)),Z(t,vt,s=>n(2,o=s));function l(){i=Ce(this),ot.set(i)}return[r,i,o,l]}class In extends rt{constructor(e){super(),nt(this,e,Hn,Vn,X,{},On)}}function Un(t){et(t,"svelte-lnlob1",".overview-title.svelte-lnlob1{color:#c9e;font-size:small;grid-column:1;justify-self:end}.overview-content.svelte-lnlob1{justify-self:start;grid-column:2}")}function Wn(t){let e,n,r,i,o;return{c(){e=g("span"),n=k(t[0]),r=b(),i=g("span"),o=k(t[1]),v(e,"class","overview-title svelte-lnlob1"),v(i,"class","overview-content svelte-lnlob1")},m(l,s){y(l,e,s),h(e,n),y(l,r,s),y(l,i,s),h(i,o)},p(l,[s]){s&1&&A(n,l[0]),s&2&&A(o,l[1])},i:p,o:p,d(l){l&&_(e),l&&_(r),l&&_(i)}}}function Gn(t,e,n){let{title:r}=e,{content:i}=e;return t.$$set=o=>{"title"in o&&n(0,r=o.title),"content"in o&&n(1,i=o.content)},[r,i]}class $t extends rt{constructor(e){super(),nt(this,e,Gn,Wn,X,{title:0,content:1},Un)}}function Jn(t){et(t,"svelte-xn0ggy","div#chuni-overview.svelte-xn0ggy.svelte-xn0ggy{border:#547 3px solid;border-radius:0.5rem;background-color:#224;width:fit-content;padding:0.5rem;margin:0.5rem;display:grid;align-items:center;width:calc(100% - 2rem - 6px)}div#chuni-overview.svelte-xn0ggy .stats-name.svelte-xn0ggy{grid-column:1;width:max-content;justify-self:center}div#chuni-overview.svelte-xn0ggy .stats-rating.svelte-xn0ggy{grid-column:2;justify-self:center}div#chuni-overview.svelte-xn0ggy .stats-honor.svelte-xn0ggy{grid-area:2/1/3/3;color:#998;background:#113;border-radius:3px;padding:5px;margin:0 20px}div#chuni-overview.svelte-xn0ggy .stats-honor.stats-honor-normal.svelte-xn0ggy{color:#998}div#chuni-overview.svelte-xn0ggy .stats-honor.stats-honor-bronze.svelte-xn0ggy{color:#d83}div#chuni-overview.svelte-xn0ggy .stats-honor.stats-honor-silver.svelte-xn0ggy{color:#ddd}div#chuni-overview.svelte-xn0ggy .stats-honor.stats-honor-gold.svelte-xn0ggy{color:#fb4}div#chuni-overview.svelte-xn0ggy .stats-honor.stats-honor-rainbow.svelte-xn0ggy{color:#6e8}div#chuni-overview.svelte-xn0ggy .overview-items.svelte-xn0ggy{width:fit-content;display:grid;grid-area:1/3/3/4;gap:5px;padding:5px}")}function qn(t){return{c:p,m:p,p,d:p}}function Xn(t){let e,n=t[2].name+"",r,i,o,l=t[2].rating+"",s,u,c,a=t[2].honor.text+"",f;return{c(){e=g("h2"),r=k(n),i=b(),o=g("h2"),s=k(l),u=b(),c=g("div"),f=k(a),v(e,"class","stats-name svelte-xn0ggy"),v(o,"class","stats-rating svelte-xn0ggy"),v(c,"class","stats-honor stats-honor-"+t[2].honor.type+" svelte-xn0ggy")},m(d,m){y(d,e,m),h(e,r),y(d,i,m),y(d,o,m),h(o,s),y(d,u,m),y(d,c,m),h(c,f)},p,d(d){d&&_(e),d&&_(i),d&&_(o),d&&_(u),d&&_(c)}}}function Zn(t){return{c:p,m:p,p,d:p}}function Kn(t){return{c:p,m:p,p,i:p,o:p,d:p}}function Qn(t){let e,n;return e=new $t({props:{title:"Recent 10 AVG",content:t[1].toFixed(2)}}),{c(){U(e.$$.fragment)},m(r,i){D(e,r,i),n=!0},p,i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){z(e.$$.fragment,r),n=!1},d(r){O(e,r)}}}function Yn(t){return{c:p,m:p,p,i:p,o:p,d:p}}function Nn(t){let e,n,r,i,o,l,s,u,c,a,f={ctx:t,current:null,token:null,hasCatch:!1,pending:Zn,then:Xn,catch:qn,value:2};Rt(Be(),f),i=new $t({props:{title:"Generated at",content:new Date().toLocaleDateString()}}),l=new $t({props:{title:"Best 30 AVG",content:Et(t[0]).toFixed(2)}});let d={ctx:t,current:null,token:null,hasCatch:!1,pending:Yn,then:Qn,catch:Kn,value:1,blocks:[,,,]};return Rt(De(),d),c=new $t({props:{title:"Max Possible",content:Jt(t[0]).toFixed(2)}}),{c(){e=g("div"),f.block.c(),n=b(),r=g("div"),U(i.$$.fragment),o=b(),U(l.$$.fragment),s=b(),d.block.c(),u=b(),U(c.$$.fragment),v(r,"class","overview-items svelte-xn0ggy"),v(e,"id","chuni-overview"),v(e,"class","svelte-xn0ggy")},m(m,w){y(m,e,w),f.block.m(e,f.anchor=null),f.mount=()=>e,f.anchor=n,h(e,n),h(e,r),D(i,r,null),h(r,o),D(l,r,null),h(r,s),d.block.m(r,d.anchor=null),d.mount=()=>r,d.anchor=u,h(r,u),D(c,r,null),a=!0},p(m,[w]){t=m,Tt(f,t,w);const x={};w&1&&(x.content=Et(t[0]).toFixed(2)),l.$set(x),Tt(d,t,w);const S={};w&1&&(S.content=Jt(t[0]).toFixed(2)),c.$set(S)},i(m){a||(T(i.$$.fragment,m),T(l.$$.fragment,m),T(d.block),T(c.$$.fragment,m),a=!0)},o(m){z(i.$$.fragment,m),z(l.$$.fragment,m);for(let w=0;w<3;w+=1){const x=d.blocks[w];z(x)}z(c.$$.fragment,m),a=!1},d(m){m&&_(e),f.block.d(),f.token=null,f=null,O(i),O(l),d.block.d(),d.token=null,d=null,O(c)}}}function tr(t,e,n){let{ratingList:r}=e;return t.$$set=i=>{"ratingList"in i&&n(0,r=i.ratingList)},[r]}class er extends rt{constructor(e){super(),nt(this,e,tr,Nn,X,{ratingList:0},Jn)}}function nr(t){et(t,"svelte-1jox4lr","body.svelte-1jox4lr.svelte-1jox4lr{padding-top:1rem;background-color:#103;color:#eec;margin:0;font-size:14px;min-height:100%;min-width:fit-content}body.svelte-1jox4lr a.svelte-1jox4lr{color:#3cc;text-decoration:none}main.svelte-1jox4lr.svelte-1jox4lr{width:fit-content;margin:auto}footer.svelte-1jox4lr.svelte-1jox4lr{padding:10px}")}function rr(t){return{c:p,m:p,p,i:p,o:p,d:p}}function ir(t){let e,n,r,i,o,l,s;return n=new er({props:{ratingList:t[1].map(sr)}}),i=new Ie({props:{recordList:t[1]}}),l=new Dn({}),{c(){e=g("main"),U(n.$$.fragment),r=b(),U(i.$$.fragment),o=b(),U(l.$$.fragment),v(e,"class","svelte-1jox4lr")},m(u,c){y(u,e,c),D(n,e,null),h(e,r),D(i,e,null),y(u,o,c),D(l,u,c),s=!0},p,i(u){s||(T(n.$$.fragment,u),T(i.$$.fragment,u),T(l.$$.fragment,u),s=!0)},o(u){z(n.$$.fragment,u),z(i.$$.fragment,u),z(l.$$.fragment,u),s=!1},d(u){u&&_(e),O(n),O(i),u&&_(o),O(l,u)}}}function or(t){let e,n,r,i,o,l,s;return{c(){e=g("h3"),e.textContent="Chunithm International Score Viewer",n=b(),r=g("div"),i=g("p"),i.textContent="Loading...",o=b(),l=g("p"),s=k(t[0])},m(u,c){y(u,e,c),y(u,n,c),y(u,r,c),h(r,i),h(r,o),h(r,l),h(l,s)},p(u,c){c&1&&A(s,u[0])},i:p,o:p,d(u){u&&_(e),u&&_(n),u&&_(r)}}}function lr(t){let e,n,r,i,o,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:or,then:ir,catch:rr,value:1,blocks:[,,,]};return Rt(Fe(),s),r=new In({}),{c(){e=g("body"),s.block.c(),n=b(),U(r.$$.fragment),i=b(),o=g("footer"),o.innerHTML=`<span><a href="https://github.com/Dogeon188/chuni_new_intl_viewer" target="_blank" rel="noopener noreferrer" class="svelte-1jox4lr">Source</a> 
        </span><br/> 
        <span>Original &amp; most works by <a href="https://github.com/kyroslee/chuni_intl_viewer" target="_blank" rel="noopener noreferrer" class="svelte-1jox4lr">kyroslee</a> 
        </span><br/> 
        <span>Mostly inspired by <a href="https://github.com/caxerx/chuni_intl_viewer" target="_blank" rel="noopener noreferrer" class="svelte-1jox4lr">caxerx</a></span>`,v(o,"class","svelte-1jox4lr"),v(e,"class","svelte-1jox4lr")},m(u,c){y(u,e,c),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=n,h(e,n),D(r,e,null),h(e,i),h(e,o),l=!0},p(u,[c]){t=u,Tt(s,t,c)},i(u){l||(T(s.block),T(r.$$.fragment,u),l=!0)},o(u){for(let c=0;c<3;c+=1){const a=s.blocks[c];z(a)}z(r.$$.fragment,u),l=!1},d(u){u&&_(e),s.block.d(),s.token=null,s=null,O(r)}}}const sr=t=>t.rating;function cr(t,e,n){let r;return Z(t,mt,i=>n(0,r=i)),[r]}class ar extends rt{constructor(e){super(),nt(this,e,cr,lr,X,{},nr)}}async function ur(){if(window.chuniIntlViewer){alert("[chuni-intl-viewer] Please refresh the page before another new fetch.");return}if(window.chuniIntlViewer=!0,window.location.hostname!=="chunithm-net-eng.com"){alert("[chuni_intl_viewer] This tools could only be used under chunithm-net international."),window.location.href="https://chunithm-net-eng.com/";return}if(!Ft("_t")){alert("[chuni-intl-viewer] Token not found. Please login first."),window.location.href="https://chunithm-net-eng.com/";return}const t=document.body.attachShadow({mode:"open"});new ar({target:t})}ur()})();
