(function(){"use strict";function qe(e){const t=document.cookie.split(";").map(n=>decodeURIComponent(n.trim())).map(n=>n.split("=")).find(n=>n[0]===e);return t?t[1]:""}function Ie(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function Me(e){return Number([...e].filter(t=>t!==",").join(""))}function m(){}function gt(e){return e&&typeof e=="object"&&typeof e.then=="function"}function Be(e){return e()}function Ue(){return Object.create(null)}function te(e){e.forEach(Be)}function mt(e){return typeof e=="function"}function se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function pt(e){return Object.keys(e).length===0}function vt(e,...t){if(e==null)return m;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function bt(e,t,n){e.$$.on_destroy.push(vt(t,n))}function h(e,t){e.appendChild(t)}function me(e,t,n){const r=wt(e);if(!r.getElementById(t)){const i=b("style");i.id=t,i.textContent=n,_t(r,i)}}function wt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function _t(e,t){h(e.head||e,t)}function R(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode.removeChild(e)}function Ve(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function j(){return S(" ")}function ce(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function yt(e){return Array.from(e.childNodes)}function F(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ne(e,t,n){e.classList[n?"add":"remove"](t)}let ue;function M(e){ue=e}function kt(){if(!ue)throw new Error("Function called outside component initialization");return ue}const ae=[],He=[],pe=[],We=[],jt=Promise.resolve();let Ee=!1;function St(){Ee||(Ee=!0,jt.then(Te))}function Pe(e){pe.push(e)}const Re=new Set;let ve=0;function Te(){const e=ue;do{for(;ve<ae.length;){const t=ae[ve];ve++,M(t),$t(t.$$)}for(M(null),ae.length=0,ve=0;He.length;)He.pop()();for(let t=0;t<pe.length;t+=1){const n=pe[t];Re.has(n)||(Re.add(n),n())}pe.length=0}while(ae.length);for(;We.length;)We.pop()();Ee=!1,Re.clear(),M(e)}function $t(e){if(e.fragment!==null){e.update(),te(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pe)}}const be=new Set;let Y;function xt(){Y={r:0,c:[],p:Y}}function Et(){Y.r||te(Y.c),Y=Y.p}function I(e,t){e&&e.i&&(be.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(be.has(e))return;be.add(e),Y.c.push(()=>{be.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function Ce(e,t){const n=t.token={};function r(i,o,l,s){if(t.token!==n)return;t.resolved=s;let u=t.ctx;l!==void 0&&(u=u.slice(),u[l]=s);const c=i&&(t.current=i)(u);let a=!1;t.block&&(t.blocks?t.blocks.forEach((f,d)=>{d!==o&&f&&(xt(),B(f,1,1,()=>{t.blocks[d]===f&&(t.blocks[d]=null)}),Et())}):t.block.d(1),c.c(),I(c,1),c.m(t.mount(),t.anchor),a=!0),t.block=c,t.blocks&&(t.blocks[o]=c),a&&Te()}if(gt(e)){const i=kt();if(e.then(o=>{M(i),r(t.then,1,t.value,o),M(null)},o=>{if(M(i),r(t.catch,2,t.error,o),M(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Le(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}function re(e){e&&e.c()}function Z(e,t,n,r){const{fragment:i,on_mount:o,on_destroy:l,after_update:s}=e.$$;i&&i.m(t,n),r||Pe(()=>{const u=o.map(Be).filter(mt);l?l.push(...u):te(u),e.$$.on_mount=[]}),s.forEach(Pe)}function N(e,t){const n=e.$$;n.fragment!==null&&(te(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(e,t){e.$$.dirty[0]===-1&&(ae.push(e),St(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(e,t,n,r,i,o,l,s=[-1]){const u=ue;M(e);const c=e.$$={fragment:null,ctx:null,props:o,update:m,not_equal:i,bound:Ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Ue(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};l&&l(c.root);let a=!1;if(c.ctx=n?n(e,t.props||{},(f,d,...y)=>{const k=y.length?y[0]:d;return c.ctx&&i(c.ctx[f],c.ctx[f]=k)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](k),a&&Pt(e,f)),d}):[],c.update(),a=!0,te(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=yt(t.target);c.fragment&&c.fragment.l(f),f.forEach(E)}else c.fragment&&c.fragment.c();t.intro&&I(e.$$.fragment),Z(e,t.target,t.anchor,t.customElement),Te()}M(u)}class _e{$destroy(){N(this,1),this.$destroy=m}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!pt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ge(e,t){t*=100;const n=[[101e4,t+215],[1009e3,t+215],[1007500,t+200],[1005e3,t+150],[1e6,t+100],[975e3,t],[925e3,t-300],[9e5,t-500],[8e5,(t-500)/2],[5e5,0],[0,0]];let r=1;n.some((s,u)=>(r=u,e>s[0]));const i=n[r-1],o=n[r],l=o[1]+(i[1]-o[1])/(i[0]-o[0])*(e-o[0]);return Math.floor(l+Number.EPSILON)/100}function Je(e){return e.slice(0,30).reduce((t,n)=>t+n)/30}function Rt(e){return(Je(e)*30+e[0]*10)/40}const ie=[];function Tt(e,t=m){let n;const r=new Set;function i(s){if(se(e,s)&&(e=s,n)){const u=!ie.length;for(const c of r)c[1](),ie.push(c,e);if(u){for(let c=0;c<ie.length;c+=2)ie[c][0](ie[c+1]);ie.length=0}}}function o(s){i(s(e))}function l(s,u=m){const c=[s,u];return r.add(c),r.size===1&&(n=t(i)||m),s(e),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}const ye=Tt(""),U={basic:"BAS",advanced:"ADV",expert:"EXP",master:"MAS",ultima:"ULT"};async function Ct(e=U.master){const t=new FormData;t.append("genre","99"),t.append("token",qe("_t"));const n={[U.ultima]:"sendUltima",[U.master]:"sendMaster",[U.expert]:"sendExpert",[U.advanced]:"sendAdvanced",[U.basic]:"sendBasic"},r=await fetch(`https://chunithm-net-eng.com/mobile/record/musicGenre/${n[e]}`,{headers:{"Cache-Control":"no-cache"},method:"POST",body:t}),i=[...$(await r.text()).find("form")];return i.shift(),i}async function Lt(){const e=[];for(const t of Object.values(U))ye.set(`Fetching ${t} record...`),e.push(await Ct(t));return e.flatMap((t,n)=>t.map(r=>{var s,u;const i=$(r),o=i.find(".play_musicdata_icon");let l=null;return o.length&&(o.find('img[src*="alljustice"]').length?l="AJ":o.find('img[src*="fullcombo"]').length&&(l="FC")),{title:(s=i.find(".music_title"))==null?void 0:s.text(),score:Me((u=i.find(".text_b"))==null?void 0:u.text()),difficulty:Object.values(U)[n],clear:l}}).filter(r=>r.title!==null&&r.score>0))}async function At(){ye.set("Fetching song data...");const e=await(await fetch("https://raw.githubusercontent.com/Dogeon188/chuni_new_intl_viewer/main/songData.json")).json(),t=await Lt();return ye.set("Calculating data..."),t.map(n=>{const r=e[n.title];if(r===void 0){alert(`[chuni-intl-viewer] Found unknown song "${n.title} ${n.difficulty}".
The data should be updating soon, please run chuni-viewer again later to get proper song data.`),fetch(new Request("https://chuniupdate.dogeon188.repl.co/sendUpdate",{method:"POST"})),n.const=0,n.rating=0;return}n.const=r[n.difficulty],n.rating=Ge(n.score,n.const)}),t.sort((n,r)=>r.rating-n.rating||r.const-n.const),t.map((n,r)=>{n.rank=r+1}),t}async function zt(){var i;const e=await fetch("https://chunithm-net-eng.com/mobile/home/"),t=$(await e.text()),n=[...t.find(".player_rating_num_block img")].map(o=>{var u,c;const l=(u=o.getAttribute("src"))!=null?u:"";return/rating_.*_comma.png/.test(l)?".":((c=/rating_.*_[0-9]*(?=\.png)/g.exec(l))!=null?c:["**.**"])[0].slice(-1)}).join(""),r=t.find(".player_honor_short").css("background-image");return{name:t.find(".player_name_in")[0].innerHTML,honor:{text:t.find(".player_honor_text_view span")[0].innerHTML,type:((i=/honor_bg_.*(?=\.png)/g.exec(r))!=null?i:["normal"])[0].slice(9)},rating:n}}async function Ot(){const e=await fetch("https://chunithm-net-eng.com/mobile/home/playerData/ratingDetailRecent/"),t=await(await fetch("https://raw.githubusercontent.com/Dogeon188/chuni_new_intl_viewer/main/songData.json")).json();return[...$(await e.text()).find("form")].map(r=>{var l,s,u;const i=$(r),o={score:Me((l=i.find(".text_b"))==null?void 0:l.text()),title:(s=i.find(".music_title"))==null?void 0:s.text(),diff:Object.values(U)[+((u=i.find("input[name=diff]"))==null?void 0:u.attr("value"))]};return Ge(o.score,t[o.title][o.diff])}).reduce((r,i)=>r+i)/10}function Ft(e){me(e,"svelte-lnlob1",".overview-title.svelte-lnlob1{color:#c9e;font-size:small;grid-column:1;justify-self:end}.overview-content.svelte-lnlob1{justify-self:start;grid-column:2}")}function Dt(e){let t,n,r,i,o;return{c(){t=b("span"),n=S(e[0]),r=j(),i=b("span"),o=S(e[1]),_(t,"class","overview-title svelte-lnlob1"),_(i,"class","overview-content svelte-lnlob1")},m(l,s){R(l,t,s),h(t,n),R(l,r,s),R(l,i,s),h(i,o)},p(l,[s]){s&1&&F(n,l[0]),s&2&&F(o,l[1])},i:m,o:m,d(l){l&&E(t),l&&E(r),l&&E(i)}}}function qt(e,t,n){let{title:r}=t,{content:i}=t;return e.$$set=o=>{"title"in o&&n(0,r=o.title),"content"in o&&n(1,i=o.content)},[r,i]}class ke extends _e{constructor(t){super(),we(this,t,qt,Dt,se,{title:0,content:1},Ft)}}function It(e){me(e,"svelte-fkzqhl","div#chuni-overview.svelte-fkzqhl.svelte-fkzqhl{border:#436 3px solid;border-radius:0.5rem;background-color:#224;width:fit-content;padding:0.5rem;margin:0.5rem;display:grid;align-items:center;width:calc(100% - 2rem - 6px)}div#chuni-overview.svelte-fkzqhl .stats-name.svelte-fkzqhl{grid-column:1;width:max-content;justify-self:center}div#chuni-overview.svelte-fkzqhl .stats-rating.svelte-fkzqhl{grid-column:2;justify-self:center}div#chuni-overview.svelte-fkzqhl .stats-honor.svelte-fkzqhl{grid-area:2/1/2/3;color:#998;background:#113;border-radius:3px;padding:5px;margin:0 20px}div#chuni-overview.svelte-fkzqhl .stats-honor.stats-honor-normal.svelte-fkzqhl{color:#998}div#chuni-overview.svelte-fkzqhl .stats-honor.stats-honor-bronze.svelte-fkzqhl{color:#d83}div#chuni-overview.svelte-fkzqhl .stats-honor.stats-honor-silver.svelte-fkzqhl{color:#ddd}div#chuni-overview.svelte-fkzqhl .stats-honor.stats-honor-gold.svelte-fkzqhl{color:#fb4}div#chuni-overview.svelte-fkzqhl .stats-honor.stats-honor-rainbow.svelte-fkzqhl{color:#6e8}div#chuni-overview.svelte-fkzqhl .overview-items.svelte-fkzqhl{display:grid;grid-area:1/3/3/3;gap:5px;padding:5px}")}function Mt(e){return{c:m,m,p:m,d:m}}function Bt(e){let t,n=e[5].name+"",r,i,o,l=e[5].rating+"",s,u,c,a=e[5].honor.text+"",f;return{c(){t=b("h2"),r=S(n),i=j(),o=b("h2"),s=S(l),u=j(),c=b("div"),f=S(a),_(t,"class","stats-name svelte-fkzqhl"),_(o,"class","stats-rating svelte-fkzqhl"),_(c,"class","stats-honor stats-honor-"+e[5].honor.type+" svelte-fkzqhl")},m(d,y){R(d,t,y),h(t,r),R(d,i,y),R(d,o,y),h(o,s),R(d,u,y),R(d,c,y),h(c,f)},p:m,d(d){d&&E(t),d&&E(i),d&&E(o),d&&E(u),d&&E(c)}}}function Ut(e){return{c:m,m,p:m,d:m}}function Vt(e){return{c:m,m,p:m,i:m,o:m,d:m}}function Ht(e){let t,n;return t=new ke({props:{title:"R10 Avg",content:e[4].toFixed(2)}}),{c(){re(t.$$.fragment)},m(r,i){Z(t,r,i),n=!0},p:m,i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){N(t,r)}}}function Wt(e){return{c:m,m,p:m,i:m,o:m,d:m}}function Gt(e){let t,n,r,i,o,l,s,u,c,a,f={ctx:e,current:null,token:null,hasCatch:!1,pending:Ut,then:Bt,catch:Mt,value:5};Ce(e[3],f),i=new ke({props:{title:"Generated at",content:new Date().toLocaleDateString()}}),l=new ke({props:{title:"B30 Avg",content:e[0].toFixed(2)}});let d={ctx:e,current:null,token:null,hasCatch:!1,pending:Wt,then:Ht,catch:Vt,value:4,blocks:[,,,]};return Ce(e[2],d),c=new ke({props:{title:"Max Possible",content:e[1].toFixed(2)}}),{c(){t=b("div"),f.block.c(),n=j(),r=b("div"),re(i.$$.fragment),o=j(),re(l.$$.fragment),s=j(),d.block.c(),u=j(),re(c.$$.fragment),_(r,"class","overview-items svelte-fkzqhl"),_(t,"id","chuni-overview"),_(t,"class","svelte-fkzqhl")},m(y,k){R(y,t,k),f.block.m(t,f.anchor=null),f.mount=()=>t,f.anchor=n,h(t,n),h(t,r),Z(i,r,null),h(r,o),Z(l,r,null),h(r,s),d.block.m(r,d.anchor=null),d.mount=()=>r,d.anchor=u,h(r,u),Z(c,r,null),a=!0},p(y,[k]){e=y,Le(f,e,k);const p={};k&1&&(p.content=e[0].toFixed(2)),l.$set(p),Le(d,e,k);const v={};k&2&&(v.content=e[1].toFixed(2)),c.$set(v)},i(y){a||(I(i.$$.fragment,y),I(l.$$.fragment,y),I(d.block),I(c.$$.fragment,y),a=!0)},o(y){B(i.$$.fragment,y),B(l.$$.fragment,y);for(let k=0;k<3;k+=1){const p=d.blocks[k];B(p)}B(c.$$.fragment,y),a=!1},d(y){y&&E(t),f.block.d(),f.token=null,f=null,N(i),N(l),d.block.d(),d.token=null,d=null,N(c)}}}function Jt(e,t,n){let{b30:r}=t,{maxPossible:i}=t,o=Ot(),l=zt();return e.$$set=s=>{"b30"in s&&n(0,r=s.b30),"maxPossible"in s&&n(1,i=s.maxPossible)},[r,i,o,l]}class Xt extends _e{constructor(t){super(),we(this,t,Jt,Gt,se,{b30:0,maxPossible:1},It)}}var Xe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(e,t||[])).next())})};const Ke="application/font-woff",Qe="image/jpeg",Kt={woff:Ke,woff2:Ke,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Qe,jpeg:Qe,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function Qt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function je(e){const t=Qt(e).toLowerCase();return Kt[t]||""}function Yt(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}function Ae(e){return e.search(/^(data:)/)!==-1}function Se(e,t){return`data:${t};base64,${e}`}function Zt(e){return e.split(/,/)[1]}const Nt=function(){let t=0;const n=()=>`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${n()}${t}`)}();function J(e){const t=[];for(let n=0,r=e.length;n<r;n+=1)t.push(e[n]);return t}function $e(e,t){const n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}function en(e){const t=$e(e,"border-left-width"),n=$e(e,"border-right-width");return e.clientWidth+t+n}function tn(e){const t=$e(e,"border-top-width"),n=$e(e,"border-bottom-width");return e.clientHeight+t+n}function nn(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}function rn(e){return e.toBlob?new Promise(t=>e.toBlob(t)):new Promise(t=>{const n=window.atob(e.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r);for(let o=0;o<r;o+=1)i[o]=n.charCodeAt(o);t(new Blob([i],{type:"image/png"}))})}function ze(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=e})}function on(e){return Xe(this,void 0,void 0,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)})}function ln(e,t,n){return Xe(this,void 0,void 0,function*(){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),on(i)})}const Oe={};function sn(e){let t=e.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(t)&&(t=t.replace(/.*\//,"")),t}function Fe(e,t){const n=sn(e);if(Oe[n]!=null)return Oe[n];t.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());const r=o=>{let l="";if(t.imagePlaceholder){const u=t.imagePlaceholder.split(/,/);u&&u[1]&&(l=u[1])}let s=`Failed to fetch resource: ${e}`;return o&&(s=typeof o=="string"?o:o.message),s&&console.error(s),{blob:l,contentType:""}},i=window.fetch(e).then(o=>o.blob().then(l=>({blob:l,contentType:o.headers.get("Content-Type")||""}))).then(({blob:o,contentType:l})=>new Promise((s,u)=>{const c=new FileReader;c.onloadend=()=>s({contentType:l,blob:c.result}),c.onerror=u,c.readAsDataURL(o)})).then(({blob:o,contentType:l})=>({contentType:l,blob:Zt(o)})).catch(r);return Oe[n]=i,i}function cn(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function un(e){return J(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function an(e,t,n){const r=`.${e}:${t}`,i=n.cssText?cn(n):un(n);return document.createTextNode(`${r}{${i}}`)}function Ye(e,t,n){const r=window.getComputedStyle(e,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=Nt();try{t.className=`${t.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(an(o,n,r)),t.appendChild(l)}function fn(e,t){Ye(e,t,":before"),Ye(e,t,":after")}var oe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(e,t||[])).next())})};function hn(e){return oe(this,void 0,void 0,function*(){const t=e.toDataURL();return t==="data:,"?Promise.resolve(e.cloneNode(!1)):ze(t)})}function dn(e,t){return oe(this,void 0,void 0,function*(){return Promise.resolve(e.poster).then(n=>Fe(n,t)).then(n=>Se(n.blob,je(e.poster)||n.contentType)).then(n=>ze(n))})}function gn(e,t){return oe(this,void 0,void 0,function*(){return e instanceof HTMLCanvasElement?hn(e):e instanceof HTMLVideoElement&&e.poster?dn(e,t):Promise.resolve(e.cloneNode(!1))})}const mn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";function pn(e,t,n){var r;return oe(this,void 0,void 0,function*(){const i=mn(e)&&e.assignedNodes?J(e.assignedNodes()):J(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes);return i.length===0||e instanceof HTMLVideoElement?Promise.resolve(t):i.reduce((o,l)=>o.then(()=>Ze(l,n)).then(s=>{s&&t.appendChild(s)}),Promise.resolve()).then(()=>t)})}function vn(e,t){const n=window.getComputedStyle(e),r=t.style;!r||(n.cssText?r.cssText=n.cssText:J(n).forEach(i=>{r.setProperty(i,n.getPropertyValue(i),n.getPropertyPriority(i))}))}function bn(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function wn(e,t){return oe(this,void 0,void 0,function*(){return t instanceof Element?Promise.resolve().then(()=>vn(e,t)).then(()=>fn(e,t)).then(()=>bn(e,t)).then(()=>t):Promise.resolve(t)})}function Ze(e,t,n){return oe(this,void 0,void 0,function*(){return!n&&t.filter&&!t.filter(e)?Promise.resolve(null):Promise.resolve(e).then(r=>gn(r,t)).then(r=>pn(e,r,t)).then(r=>wn(e,r))})}var _n=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(e,t||[])).next())})};const Ne=/url\((['"]?)([^'"]+?)\1\)/g,yn=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,kn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function jn(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Sn(e){const t=[];return e.replace(Ne,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Ae(n))}function $n(e,t,n,r,i){const o=n?Yt(t,n):t;return Promise.resolve(o).then(l=>i?i(l):Fe(l,r)).then(l=>typeof l=="string"?Se(l,je(t)):Se(l.blob,je(t)||l.contentType)).then(l=>e.replace(jn(t),`$1${l}$3`)).then(l=>l,()=>o)}function xn(e,{preferredFontFormat:t}){return t?e.replace(kn,n=>{for(;;){const[r,,i]=yn.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function et(e){return e.search(Ne)!==-1}function tt(e,t,n){return _n(this,void 0,void 0,function*(){if(!et(e))return Promise.resolve(e);const r=xn(e,n);return Promise.resolve(r).then(Sn).then(i=>i.reduce((o,l)=>o.then(s=>$n(s,l,t,n)),Promise.resolve(r)))})}var xe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(e,t||[])).next())})};function En(e,t){var n;return xe(this,void 0,void 0,function*(){const r=(n=e.style)===null||n===void 0?void 0:n.getPropertyValue("background");return r?Promise.resolve(r).then(i=>tt(i,null,t)).then(i=>(e.style.setProperty("background",i,e.style.getPropertyPriority("background")),e)):Promise.resolve(e)})}function Pn(e,t){return xe(this,void 0,void 0,function*(){if(!(e instanceof HTMLImageElement&&!Ae(e.src))&&!(e instanceof SVGImageElement&&!Ae(e.href.baseVal)))return Promise.resolve(e);const n=e instanceof HTMLImageElement?e.src:e.href.baseVal;return Promise.resolve(n).then(r=>Fe(r,t)).then(r=>Se(r.blob,je(n)||r.contentType)).then(r=>new Promise((i,o)=>{e.onload=i,e.onerror=o,e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r})).then(()=>e,()=>e)})}function Rn(e,t){return xe(this,void 0,void 0,function*(){const r=J(e.childNodes).map(i=>nt(i,t));return Promise.all(r).then(()=>e)})}function nt(e,t){return xe(this,void 0,void 0,function*(){return e instanceof Element?Promise.resolve(e).then(n=>En(n,t)).then(n=>Pn(n,t)).then(n=>Rn(n,t)):Promise.resolve(e)})}function Tn(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}var fe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(e,t||[])).next())})};const rt={};function it(e){const t=rt[e];if(t!=null)return t;const n=window.fetch(e).then(r=>({url:e,cssText:r.text()}));return rt[e]=n,n}function ot(e){return fe(this,void 0,void 0,function*(){return e.cssText.then(t=>{let n=t;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(l=>{let s=l.replace(r,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),window.fetch(s).then(u=>u.blob()).then(u=>new Promise((c,a)=>{const f=new FileReader;f.onloadend=()=>{n=n.replace(l,`url(${f.result})`),c([l,f.result])},f.onerror=a,f.readAsDataURL(u)}))});return Promise.all(o).then(()=>n)})})}function lt(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=i.exec(r);if(u===null)break;t.push(u[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(l,"gi");for(;;){let u=o.exec(r);if(u===null){if(u=s.exec(r),u===null)break;o.lastIndex=s.lastIndex}else s.lastIndex=o.lastIndex;t.push(u[0])}return t}function Cn(e){return fe(this,void 0,void 0,function*(){const t=[],n=[];return e.forEach(r=>{if("cssRules"in r)try{J(r.cssRules).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let l=o+1;const s=i.href,u=it(s).then(c=>c?ot(c):"").then(c=>lt(c).forEach(a=>{try{r.insertRule(a,a.startsWith("@import")?l+=1:r.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:a,error:f})}})).catch(c=>{console.error("Error loading remote css",c.toString())});n.push(u)}})}catch(i){const o=e.find(l=>l.href==null)||document.styleSheets[0];r.href!=null&&n.push(it(r.href).then(l=>l?ot(l):"").then(l=>lt(l).forEach(s=>{o.insertRule(s,r.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l.toString())})),console.error("Error inlining remote css file",i.toString())}}),Promise.all(n).then(()=>(e.forEach(r=>{if("cssRules"in r)try{J(r.cssRules).forEach(i=>{t.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${r.href}`,i.toString())}}),t))})}function Ln(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>et(t.style.getPropertyValue("src")))}function An(e){return fe(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.ownerDocument==null&&n(new Error("Provided element is not within a Document")),t(J(e.ownerDocument.styleSheets))}).then(t=>Cn(t)).then(Ln)})}function zn(e,t){return fe(this,void 0,void 0,function*(){return An(e).then(n=>Promise.all(n.map(r=>{const i=r.parentStyleSheet?r.parentStyleSheet.href:null;return tt(r.cssText,i,t)}))).then(n=>n.join(`
`))})}function On(e,t){return fe(this,void 0,void 0,function*(){return(t.fontEmbedCSS!=null?Promise.resolve(t.fontEmbedCSS):zn(e,t)).then(n=>{const r=document.createElement("style"),i=document.createTextNode(n);return r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),e})})}var De=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function s(a){try{c(r.next(a))}catch(f){l(f)}}function u(a){try{c(r.throw(a))}catch(f){l(f)}}function c(a){a.done?o(a.value):i(a.value).then(s,u)}c((r=r.apply(e,t||[])).next())})};function st(e,t={}){const n=t.width||en(e),r=t.height||tn(e);return{width:n,height:r}}function Fn(e,t={}){return De(this,void 0,void 0,function*(){const{width:n,height:r}=st(e,t);return Promise.resolve(e).then(i=>Ze(i,t,!0)).then(i=>On(i,t)).then(i=>nt(i,t)).then(i=>Tn(i,t)).then(i=>ln(i,n,r))})}const L=16384;function Dn(e){(e.width>L||e.height>L)&&(e.width>L&&e.height>L?e.width>e.height?(e.height*=L/e.width,e.width=L):(e.width*=L/e.height,e.height=L):e.width>L?(e.height*=L/e.width,e.width=L):(e.width*=L/e.height,e.height=L))}function qn(e,t={}){return De(this,void 0,void 0,function*(){return Fn(e,t).then(ze).then(n=>{const r=document.createElement("canvas"),i=r.getContext("2d"),o=t.pixelRatio||nn(),{width:l,height:s}=st(e,t),u=t.canvasWidth||l,c=t.canvasHeight||s;return r.width=u*o,r.height=c*o,t.skipAutoScale||Dn(r),r.style.width=`${u}`,r.style.height=`${c}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(n,0,0,r.width,r.height),r})})}function In(e,t={}){return De(this,void 0,void 0,function*(){return qn(e,t).then(rn)})}async function ct(e){var r,i;const t=(r=document.body.shadowRoot)==null?void 0:r.querySelector("main");let n=t==null?void 0:t.cloneNode(!0);(i=t==null?void 0:t.parentElement)==null||i.appendChild(n),n.style.margin="initial",n.querySelectorAll("tr").forEach((o,l)=>{l>(e=="b30"?30:40)&&o.remove()}),In(n,{backgroundColor:"#113"}).then(async o=>{if(n.remove(),o==null)return alert("[chuni-intl-viewer] Something went wrong when converting your scores to PNG. Please ask the author to fix it.");if(Ie()){const l=new File([o],`result_${e}.png`,{type:o.type});navigator!=null&&navigator.canShare({files:[l]})&&navigator.share({files:[l]}).catch(console.log)}else $("<a>").attr({download:`result_${e}.png`,href:window.URL.createObjectURL(o)})[0].click()})}function Mn(e){me(e,"svelte-gjg4ri","main.svelte-gjg4ri.svelte-gjg4ri{width:fit-content;margin:auto}button.svelte-gjg4ri.svelte-gjg4ri{margin:0.5rem;padding:0.3rem;font-family:inherit;font-weight:bold;background-color:#324;border:#536 3px solid;color:#eec;border-radius:0.3rem;cursor:pointer}button.svelte-gjg4ri.svelte-gjg4ri:disabled{cursor:default;opacity:0.5}button.filter.svelte-gjg4ri.svelte-gjg4ri,button.sort.svelte-gjg4ri.svelte-gjg4ri{border-color:#48c;background-color:#159}button.sort.svelte-gjg4ri.svelte-gjg4ri{width:7rem}button.dl.svelte-gjg4ri i.svelte-gjg4ri{background-image:url(https://raw.githubusercontent.com/Dogeon188/chuni_new_intl_viewer/main/assets/dl.png);display:inline-block;width:1rem;height:1rem;background-position:0px 0px;background-size:cover}table.svelte-gjg4ri.svelte-gjg4ri{border-spacing:0;width:100%;padding-bottom:0.5rem;max-width:max-content;margin:auto}td.svelte-gjg4ri.svelte-gjg4ri,th.svelte-gjg4ri.svelte-gjg4ri{padding:0.5rem}th.svelte-gjg4ri.svelte-gjg4ri{color:#aac}th.current-sort.svelte-gjg4ri.svelte-gjg4ri{color:#eec}tbody.svelte-gjg4ri tr.best30 td.svelte-gjg4ri:first-child{color:#fc4}tbody.svelte-gjg4ri tr.best40 td.svelte-gjg4ri:first-child{font-weight:bold}tbody.svelte-gjg4ri tr.svelte-gjg4ri:nth-child(odd){background-color:#224}tbody.svelte-gjg4ri tr td.svelte-gjg4ri:nth-child(2){overflow:hidden;text-overflow:ellipsis;font-weight:bold;text-align:initial;max-width:300px}tbody.svelte-gjg4ri tr td:nth-child(2).diff-ult.svelte-gjg4ri{color:#3cf}tbody.svelte-gjg4ri tr td:nth-child(2).diff-mas.svelte-gjg4ri{color:#e9f}tbody.svelte-gjg4ri tr td:nth-child(2).diff-exp.svelte-gjg4ri{color:#e46}tbody.svelte-gjg4ri tr td:nth-child(2).diff-adv.svelte-gjg4ri{color:#e73}tbody.svelte-gjg4ri tr td:nth-child(2).diff-bas.svelte-gjg4ri{color:#1c3}span.clear-fc.svelte-gjg4ri.svelte-gjg4ri{color:#5e7;font-weight:bold}span.clear-aj.svelte-gjg4ri.svelte-gjg4ri{color:#fc1;font-weight:bold}")}function ut(e,t,n){const r=e.slice();return r[12]=t[n],r}function at(e,t,n){const r=e.slice();return r[15]=t[n],r}function ft(e){let t,n,r,i;function o(){return e[11](e[15])}return{c(){t=b("th"),n=S(e[15]),_(t,"class","svelte-gjg4ri"),ne(t,"current-sort",e[15]==Object.keys(e[3])[e[1]])},m(l,s){R(l,t,s),h(t,n),r||(i=ce(t,"click",o),r=!0)},p(l,s){e=l,s&10&&ne(t,"current-sort",e[15]==Object.keys(e[3])[e[1]])},d(l){l&&E(t),r=!1,i()}}}function ht(e){let t,n=e[12].clear+"",r,i;return{c(){var o;t=b("span"),r=S(n),_(t,"class",i="clear-"+((o=e[12].clear)==null?void 0:o.toLowerCase())+" svelte-gjg4ri")},m(o,l){R(o,t,l),h(t,r)},p(o,l){var s;l&4&&n!==(n=o[12].clear+"")&&F(r,n),l&4&&i!==(i="clear-"+((s=o[12].clear)==null?void 0:s.toLowerCase())+" svelte-gjg4ri")&&_(t,"class",i)},d(o){o&&E(t)}}}function dt(e){var ee,de,Q,q;let t,n,r=e[12].rank+"",i,o,l,s=e[12].title+"",u,c,a,f,d=((de=(ee=e[12].const)==null?void 0:ee.toFixed(1))!=null?de:"??.?")+"",y,k,p,v=e[12].score+"",A,he,V,X=((q=(Q=e[12].rating)==null?void 0:Q.toFixed(2))!=null?q:"??.??")+"",D,H,K,W,P=e[12].clear!==null&&ht(e);return{c(){t=b("tr"),n=b("td"),i=S(r),o=j(),l=b("td"),u=S(s),a=j(),f=b("td"),y=S(d),k=j(),p=b("td"),A=S(v),he=j(),V=b("td"),D=S(X),H=j(),K=b("td"),P&&P.c(),W=j(),_(n,"class","svelte-gjg4ri"),_(l,"class",c="diff-"+e[12].difficulty.toLowerCase()+" svelte-gjg4ri"),_(f,"class","svelte-gjg4ri"),_(p,"class","svelte-gjg4ri"),_(V,"class","svelte-gjg4ri"),_(K,"class","svelte-gjg4ri"),_(t,"class","svelte-gjg4ri"),ne(t,"best30",e[12].rank<=30),ne(t,"best40",e[12].rank<=40)},m(x,C){R(x,t,C),h(t,n),h(n,i),h(t,o),h(t,l),h(l,u),h(t,a),h(t,f),h(f,y),h(t,k),h(t,p),h(p,A),h(t,he),h(t,V),h(V,D),h(t,H),h(t,K),P&&P.m(K,null),h(t,W)},p(x,C){var le,z,G,T;C&4&&r!==(r=x[12].rank+"")&&F(i,r),C&4&&s!==(s=x[12].title+"")&&F(u,s),C&4&&c!==(c="diff-"+x[12].difficulty.toLowerCase()+" svelte-gjg4ri")&&_(l,"class",c),C&4&&d!==(d=((z=(le=x[12].const)==null?void 0:le.toFixed(1))!=null?z:"??.?")+"")&&F(y,d),C&4&&v!==(v=x[12].score+"")&&F(A,v),C&4&&X!==(X=((T=(G=x[12].rating)==null?void 0:G.toFixed(2))!=null?T:"??.??")+"")&&F(D,X),x[12].clear!==null?P?P.p(x,C):(P=ht(x),P.c(),P.m(K,null)):P&&(P.d(1),P=null),C&4&&ne(t,"best30",x[12].rank<=30),C&4&&ne(t,"best40",x[12].rank<=40)},d(x){x&&E(t),P&&P.d()}}}function Bn(e){let t,n,r=e[0]?"Show All":"Show B40",i,o,l,s,u=Object.keys(e[3])[e[1]]+"",c,a,f,d,y,k,p,v,A,he,V,X,D,H,K,W,P,ee,de,Q,q,x,C;H=new Xt({props:{b30:Je(e[4]),maxPossible:Rt(e[4])}});let le=["#","Title","Const","Score","Rating","AJ"],z=[];for(let g=0;g<6;g+=1)z[g]=ft(at(e,le,g));let G=e[2],T=[];for(let g=0;g<G.length;g+=1)T[g]=dt(ut(e,G,g));return{c(){t=b("div"),n=b("button"),i=S(r),o=j(),l=b("button"),s=S("Sort: "),c=S(u),a=j(),f=b("button"),d=b("i"),y=S("Best 30"),p=j(),v=b("button"),A=b("i"),he=S("Best 40"),X=j(),D=b("main"),re(H.$$.fragment),K=j(),W=b("table"),P=b("thead"),ee=b("tr");for(let g=0;g<6;g+=1)z[g].c();de=j(),Q=b("tbody");for(let g=0;g<T.length;g+=1)T[g].c();_(n,"class","filter svelte-gjg4ri"),_(l,"class","sort svelte-gjg4ri"),_(d,"class","svelte-gjg4ri"),_(f,"class","dl svelte-gjg4ri"),f.disabled=k=e[1]!=0,_(A,"class","svelte-gjg4ri"),_(v,"class","dl svelte-gjg4ri"),v.disabled=V=e[1]!=0,_(t,"class","buttons"),_(Q,"class","svelte-gjg4ri"),_(W,"class","svelte-gjg4ri"),_(D,"class","svelte-gjg4ri")},m(g,O){R(g,t,O),h(t,n),h(n,i),h(t,o),h(t,l),h(l,s),h(l,c),h(t,a),h(t,f),h(f,d),h(f,y),h(t,p),h(t,v),h(v,A),h(v,he),R(g,X,O),R(g,D,O),Z(H,D,null),h(D,K),h(D,W),h(W,P),h(P,ee);for(let w=0;w<6;w+=1)z[w].m(ee,null);h(W,de),h(W,Q);for(let w=0;w<T.length;w+=1)T[w].m(Q,null);q=!0,x||(C=[ce(n,"click",e[7]),ce(l,"click",e[8]),ce(f,"click",e[9]),ce(v,"click",e[10])],x=!0)},p(g,[O]){if((!q||O&1)&&r!==(r=g[0]?"Show All":"Show B40")&&F(i,r),(!q||O&2)&&u!==(u=Object.keys(g[3])[g[1]]+"")&&F(c,u),(!q||O&2&&k!==(k=g[1]!=0))&&(f.disabled=k),(!q||O&2&&V!==(V=g[1]!=0))&&(v.disabled=V),O&11){le=["#","Title","Const","Score","Rating","AJ"];let w;for(w=0;w<6;w+=1){const ge=at(g,le,w);z[w]?z[w].p(ge,O):(z[w]=ft(ge),z[w].c(),z[w].m(ee,null))}for(;w<6;w+=1)z[w].d(1)}if(O&4){G=g[2];let w;for(w=0;w<G.length;w+=1){const ge=ut(g,G,w);T[w]?T[w].p(ge,O):(T[w]=dt(ge),T[w].c(),T[w].m(Q,null))}for(;w<T.length;w+=1)T[w].d(1);T.length=G.length}},i(g){q||(I(H.$$.fragment,g),q=!0)},o(g){B(H.$$.fragment,g),q=!1},d(g){g&&E(t),g&&E(X),g&&E(D),N(H),Ve(z,g),Ve(T,g),x=!1,te(C)}}}function Un(e,t,n){let r,i,{recordList:o}=t,l=Ie(),s=0;const u={Rating:(p,v)=>v.rating-p.rating||v.const-p.const,Score:(p,v)=>v.score-p.score,Const:(p,v)=>v.const-p.const,Title:(p,v)=>{if(p.title<v.title)return-1;if(p.title>v.title)return 1;const A=["ULT","MAS","EXP","ADV","BAS"];return A.indexOf(v.difficulty)-A.indexOf(p.difficulty)},AJ:(p,v)=>{if(p.clear==v.clear)return v.rating-p.rating||v.const-p.const;const A=[null,"FC","AJ"];return A.indexOf(v.clear)-A.indexOf(p.clear)}},c=o.map(p=>p.rating),a=()=>{n(0,l=!l),l&&n(1,s=0)},f=()=>{n(1,s=(s+1)%Object.keys(u).length),n(0,l=!1)},d=()=>ct("b30"),y=()=>ct("b40"),k=p=>{let v=Object.keys(u).indexOf(p=="#"?"Rating":p);v>=0&&n(1,s=v),v>0&&n(0,l=!1)};return e.$$set=p=>{"recordList"in p&&n(5,o=p.recordList)},e.$$.update=()=>{e.$$.dirty&34&&n(6,r=o.sort(Object.values(u)[s])),e.$$.dirty&65&&n(2,i=l?r.slice(0,40):r)},[l,s,i,u,c,o,r,a,f,d,y,k]}class Vn extends _e{constructor(t){super(),we(this,t,Un,Bn,se,{recordList:5},Mn)}}function Hn(e){me(e,"svelte-11rs5en","body.svelte-11rs5en.svelte-11rs5en{padding-top:1rem;background-color:#113;color:#eec;margin:0;font-size:14px;min-height:100%;min-width:fit-content}body.svelte-11rs5en a.svelte-11rs5en{color:#3cc;text-decoration:none}footer.svelte-11rs5en.svelte-11rs5en{padding:10px}")}function Wn(e){return{c:m,m,p:m,i:m,o:m,d:m}}function Gn(e){let t,n;return t=new Vn({props:{recordList:e[1]}}),{c(){re(t.$$.fragment)},m(r,i){Z(t,r,i),n=!0},p:m,i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){N(t,r)}}}function Jn(e){let t,n,r,i,o;return{c(){t=b("div"),n=b("p"),n.textContent="Loading...",r=j(),i=b("p"),o=S(e[0])},m(l,s){R(l,t,s),h(t,n),h(t,r),h(t,i),h(i,o)},p(l,s){s&1&&F(o,l[0])},i:m,o:m,d(l){l&&E(t)}}}function Xn(e){let t,n,r,i,o,l,s={ctx:e,current:null,token:null,hasCatch:!1,pending:Jn,then:Gn,catch:Wn,value:1,blocks:[,,,]};return Ce(At(),s),{c(){t=b("body"),n=b("h3"),n.textContent="Chunithm International Score Viewer",r=j(),s.block.c(),i=j(),o=b("footer"),o.innerHTML=`<span><a href="https://github.com/Dogeon188/chuni_new_intl_viewer" target="_blank" rel="noopener noreferrer" class="svelte-11rs5en">Source</a> 
        </span><br/> 
        <span>Original &amp; most works by <a href="https://github.com/kyroslee/chuni_intl_viewer" target="_blank" rel="noopener noreferrer" class="svelte-11rs5en">kyroslee</a> 
        </span><br/> 
        <span>Mostly inspired by <a href="https://github.com/caxerx/chuni_intl_viewer" target="_blank" rel="noopener noreferrer" class="svelte-11rs5en">caxerx</a></span>`,_(o,"class","svelte-11rs5en"),_(t,"class","svelte-11rs5en")},m(u,c){R(u,t,c),h(t,n),h(t,r),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=i,h(t,i),h(t,o),l=!0},p(u,[c]){e=u,Le(s,e,c)},i(u){l||(I(s.block),l=!0)},o(u){for(let c=0;c<3;c+=1){const a=s.blocks[c];B(a)}l=!1},d(u){u&&E(t),s.block.d(),s.token=null,s=null}}}function Kn(e,t,n){let r;return bt(e,ye,i=>n(0,r=i)),[r]}class Qn extends _e{constructor(t){super(),we(this,t,Kn,Xn,se,{},Hn)}}async function Yn(){if(window.chuniIntlViewer){alert("[chuni-intl-viewer] Please refresh the page before another new fetch.");return}if(window.chuniIntlViewer=!0,window.location.hostname!=="chunithm-net-eng.com"){alert("[chuni_intl_viewer] This tools could only be used under chunithm-net international."),window.location.href="https://chunithm-net-eng.com/";return}if(!qe("_t")){alert("[chuni-intl-viewer] Token not found. Please login first."),window.location.href="https://chunithm-net-eng.com/";return}const e=document.body.attachShadow({mode:"open"});new Qn({target:e})}Yn()})();
